@inject LoadBalancerDetailViewModel ViewModel
@page "/lb/loadbalancers/{Id}"

<MudBreadcrumbs Items="_items" Separator=">"></MudBreadcrumbs>

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">@ViewModel.Object.Name</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            <MudMenu Icon="@Icons.Material.Filled.MoreVert">
                <MudMenuItem>Edit</MudMenuItem>
                <MudMenuItem>Delete</MudMenuItem>
            </MudMenu>
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        <MudGrid Spacing="5">
            <MudItem>
                <MudText Typo="Typo.subtitle2">Type</MudText>
                <MudText Typo="Typo.body2">@ViewModel.Object.Type</MudText>
            </MudItem>
            <MudItem>
                <MudText Typo="Typo.subtitle2">Status</MudText>
                @if (ViewModel.Object.Enabled)
                {
                    <MudChip Size="Size.Small" Color="Color.Success" Text="Enabled" />
                }
                else
                {
                    <MudChip Size="Size.Small" Color="Color.Error" Text="Disabled" />
                }
            </MudItem>
            <MudItem>
                <MudText Typo="Typo.subtitle2">Port</MudText>
                <MudText Typo="Typo.body2">@ViewModel.Object.Port</MudText>
            </MudItem>
        </MudGrid>
    </MudCardContent>
    <MudCardActions>
    </MudCardActions>
</MudCard>

@code {
    [Parameter]
    public string Id { get; set; }

    private List<BreadcrumbItem> _items = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Home", href: "/", icon: Icons.Material.Filled.Home),
        new BreadcrumbItem("Load balancers", href: "/lb/loadbalancers", icon: Icons.Material.Filled.AltRoute)
    };

    protected override async Task OnInitializedAsync()
    {
        await ViewModel.Initialize(Guid.Parse(Id));
        _items.Add(new BreadcrumbItem(ViewModel.Object.Name, href: null, disabled: true));
    }
}