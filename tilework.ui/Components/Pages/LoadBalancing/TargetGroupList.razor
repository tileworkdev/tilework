@using Tilework.LoadBalancing.Persistence.Models

@namespace Tilework.Ui.Components.Pages

@inject TargetGroupListViewModel _viewModel
@inject NavigationManager _navigationManager

@page "/lb/targetgroups"

<GenericListview Title="Target groups" ViewModel="@_viewModel" Actions="@_actions" Breadcrumbs="@_breadcrumbs">
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Targets</MudTh>
    </HeaderContent>
    <RowContent>
        <MudTd DataLabel="Name"><MudLink Href="@($"/lb/targetgroups/{context.Id}")">@context.Name</MudLink></MudTd>
        <MudTd DataLabel="Targets">@context.Targets.Count()</MudTd>
    </RowContent>
</GenericListview>

@code {
    private List<BreadcrumbItem> _breadcrumbs = new List<BreadcrumbItem>
    {
        new BreadcrumbItem("Home", href: "/", icon: Icons.Material.Filled.Home),
        new BreadcrumbItem("Target groups", href: "/lb/targetgroups/", disabled: true, icon: Icons.Material.Filled.AltRoute),
    };

    private List<ActionItem> _actions = new List<ActionItem>
    {
        new ActionItem { Name = "Create new", Href = "/lb/targetgroups/new" }
    };
}
