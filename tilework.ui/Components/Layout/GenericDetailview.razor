@namespace Tilework.Ui.Components.Layout

@inject NavigationManager NavigationManager

<MudBreadcrumbs Items="Breadcrumbs" Separator=">"></MudBreadcrumbs>

<MudCard Outlined="true" Class="mb-4">
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h6">@Title</MudText>
        </CardHeaderContent>
        <CardHeaderActions>
            @if(Actions.Count > 0)
            {
                <MudMenu Icon="@Icons.Material.Filled.MoreVert">
                @foreach(var action in Actions)
                {
                    @if(action.Href != null)
                    {
                        <MudMenuItem OnClick="@(() => NavigationManager.NavigateTo(action.Href))">@action.Name</MudMenuItem>
                    }
                    else if(action.OnClick != null)
                    {
                        <MudMenuItem OnClick="@action.OnClick">@action.Name</MudMenuItem>
                    }
                }
                </MudMenu>
            }
        </CardHeaderActions>
    </MudCardHeader>
    <MudCardContent>
        @DetailContent
    </MudCardContent>
</MudCard>
@if(TabContent != null)
{
    <MudTabs Outlined="true" Class="mb-4">
        @TabContent
    </MudTabs>
}


@code {
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public List<ActionItem> Actions { get; set; } = new List<ActionItem>();
    [Parameter] public List<BreadcrumbItem> Breadcrumbs { get; set; } = new List<BreadcrumbItem>();

    [Parameter] public RenderFragment? ActionContent { get; set; }
    [Parameter] public RenderFragment? DetailContent { get; set; }
    [Parameter] public RenderFragment? TabContent { get; set; }
}
